# API интернет-магазина

## Назначение

Инструкция является набором рекомендаций по построению JSON [REST](https://ru.wikipedia.org/wiki/REST) API интернет-магазина. В ней описаны возможные способы реализации API, рекомендации по поддержке и расширению, созданию структуры данных, организации структуры запросов и т.д.

## Пример API в Swagger-е

По следующей ссылке можно посмотреть пример API интернет-магазина, которое создано по принципам из инструкции: [Описание API в Swagger-е](https://app.swaggerhub.com/apis-docs/Sequenia5/magic_shop).

Подробнее об описании API можно узнать [здесь](swagger/README.md).

## Форматы

Примеры SQL-кода в инструкции приведены для базы данных PostgreSQL.

В инструкции не описаны [внешние ключи](https://ru.wikipedia.org/wiki/%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B9_%D0%BA%D0%BB%D1%8E%D1%87) в таблицах, так как они не являются единственным возможным способом контроля ссылочной целостности, и в некоторых проектах она контроллируется на уровне серверного приложения.

Уникальность так же может контролироваться на уровне серверного приложения, но при параллельной обработке API-запросов может дать сбой. Поэтому, контроль уникальности описан на уровне базы данных.

Передача данных между клиентом и сервером описана в формате JSON, а структура данных для сериализации - на языке Java.

## Содержание

1. [Структура данных](docs/data_structure.md)
2. [REST](docs/rest.md)
3. [Проблема N+1 запросов](docs/n_plus_one.md)
4. [Авторизация](docs/authorization.md)
5. [Товары](docs/products.md)
6. [Корзина](docs/cart.md)
7. [Оформление заказа](docs/checkout.md)
8. [Промоакции](docs/promotions.md)

## TODO

- Прототипы товаров
- Фильтрация каталога
- CAPTCHA при регистрации анонимного пользователя
- В информации о доставке добавить срок доставки
- В самовывоз добавить выбор времени самовывоза
